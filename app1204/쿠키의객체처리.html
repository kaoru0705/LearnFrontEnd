<script src="../lib/util.js"></script>
<script>

    /*
        oop에서는 데이터를 다룰 때 주로 객체로 표현하므로, 쿠키에 객체를 넣어보자
        - 문제점? 쿠키는 문자열이기 때문에 객체를 넣어도, 문자열로 인식해버린다.

    */


   /*
        JSON이란? 문자열일 뿐인데.. 단 JavaScript의 객체리터럴을 모방한 문자열이다.
                왜? 문자열 상태에서 JSON 표기를 준수했다면 객체로 변환할 수 있는 기회가 있기 때문에
        let member="{"name":"지노", "email":"naver"}";   준수
   */

   // 위에서 생성한 js의 객체 리터럴 쿠키에 넣어보자
   // JSON 표기를 프로그래밍 언어(java, js, c#, python...)에서 사용하려면, 문자열이기 때문에
   // 쌍따옴표로 감싸야 한다(문자 리터럴 준수)
   let member="{\"name\":\"동훈\", \"email\":\"naver\"}";
   document.cookie = `user=${member}; max-age=300`;

   // 넣을 때 user라는 key를 이용했으므로, 검색 또한 user라는 키를 이용하자
   let user = getCookie("user");    // 아직 이 단계는 문자열 상태이다... 따라서 객체로 취급되지 못함

   // 꺼내온 결과 문자열이 자바스크립트의 객체리터럴과 매우 흡사하고, JSON 표기도 준수한 상태이므로,
   // 이 문자열은 객체로 변환한 자격이 된다!!
   let data =JSON.parse(user);      // 문자열 상태였던 JSON문자열을 실제 JS의 객체리터럴로 자동 전환
   
   // 결론: data는 객체이므로, 그 안에 들어있는 속성들을 점(.)찍고 접근할 수 있는 상태가 되므로
   //       oop 개발자에게 매우 친숙하게 데이터 처리가 가능함...
   console.log("이름은 ", data.name, "이메일은 ", data.email)
   

</script>